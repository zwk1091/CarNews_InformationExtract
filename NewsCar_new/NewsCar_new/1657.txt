标题：u-blox梅景浩：高精度、安全、可靠——自动驾驶中的GNSS定位
内容：u-blox资深市场经理梅景浩今天想和大家分享的是关于自动驾驶高精度定位，我在陈总后面讲有点压力，她讲的把我要讲的大部分内容都讲掉了，所以我今天会讲的稍微简短一点。首先看到在最近几年，在汽车领域上有很多新应用出来，会对GNSS定位有一些新的挑战。我们列出了常见的应用，比如说导航、E911，还有自动驾驶，这些GNSS的应用都对GNSS提出一些新的挑战。第一个是对于位置有更新的要求，需要有一个更高精度的位置，而且需要在全覆盖的场景下获得位置信息。不管是城市峡谷还是隧道，还是地下停车库，都希望能获得位置信息。另外一点是,自动驾驶和ADAS应用，对位置提出更高的要求，希望达到分米级的精度。总结一下我们现在针对GNSS这方面的要求，主要是三个方面，第一个是能提供实时的快速更新的位置,另外一个能做到足够至少能区别到车道级别,第三个是能提供时间基准，利用时间信息来做V2X应用。举几个常见的例子。比如车载导航。首先我们从主机厂得到的消息是说，车载导航一定要达到车道级的定位，这样匹配高精地图的时候不会出现经常遇到的地图会问“请问现在在主路还是辅路”，如果拿到车道级的定位就不再会有这样的问题出现。另外导航里定位更新速度和定位更新时延是非常关键的，否则高速路上有可能出现一个情况就是错过高速路出口，都开过了,地图告诉你请从出口驶出，这样也很令人恼火。另外一种场景是最近比较火的应用V2X,预计会在中国最先落地.对定位的要求要有时间的基准:车和车的通讯，需要双方进行同步，同一个频道上进行通讯，有一个时间基准，这个是GNSS可以提供的。另外需要全场景覆盖情况下，提供车道级的位置更新，也要求实时性和低延时。我们也通过很多渠道了解到SAE的V2X定位精度,1.5mCEP68的要求，在应用的时候，给出的位置信息不是很准，这样很容易造成用户体验不是很好，也有些车厂做过测试，一般要到亚米级、分米级的精度，V2X才能有比较好的用户体验。更进一步是ADAS应用，需要车道的识别，同样需要很高的GNSS位置可获得性，同时也要有非常高的位置更新速度和低延时，还需要和高精度地图做匹配。为什么我们说高精度、低延时是一个很关键的点呢？这里有一个应用场景可以讨论一下，这上面有一个蓝色的车要进行变道，会看旁边的车道上是不是有车，这时候旁边车道的车会计算自己的位置，并广播出去。在t0时刻，这个车的位置开始进行计算，如果花10ms进行计算，把位置广播出去，距离并不是很远，这个位置具有参考意义，这时候双方可以比较安全的进行操作。如果位置更新的速度在100毫秒，这还是比较优化的情况，现在很多时候做GNSS计算，用非实时系统在做，更新频率不但慢，而且是不可控的，有可能会有抖动。这样的场景下，有可能车开出去蛮远，蓝色车得到的主车道位置，根本就不准了，有可能这时候做了变道的决策，会发现两辆车容易出现事故，这样对用户的体验来说是非常糟的。所以我们认为在这样的自动驾驶场景下，低延时，高频率是非常重要的。这张图列了传统的SAE自动驾驶的级别，以及对应自动驾驶级别所需要的定位.最常见的就是导航，常规的定位精度就够了。如果自动驾驶的级别到L2.5、L3需要比较高的精度，精度高到什么程度？至少要获得车道的信息，分米级定位。我们也考虑过是不是需要厘米级定位，后来的结论是说厘米级的定位不适用，因为GNSS是为了获得位置信息，厘米级可能在很特别的场景下做参考。路面上的物体变化是非常快的，避障操作不应该由GNSS和地图决定，而是应该由毫米波雷达和激光雷达决定。到L3或者以上，功能安全会变成一个重要的话题，这时候除了提供高精度的位置信息以外，还需要提供安全可靠的位置。我们来说自动驾驶会有什么样的情况发生.这是一个有点挑战的自动驾驶场景，车的尾气很多，不管是雷达还是摄像头，都很难找到一个准确的位置，因为没有路标做匹配，这时候我们就靠GNSS。但是我觉得这还不是非常有挑战，因为有一次我遇到一个场景，也是塞车，慢慢往前挪，那时候完全看不到两边有任何东西，只看到集装箱，这种场景下根本不知道自己在哪，只能靠GNSS。还有一个场景是这样的，是一个停车库，这也是我们经常遇到的场景。昨天吃饭的时候也遇到类似的场景，到地下停车库把车停好，电梯在旁边,我们上去吃饭，吃完饭回来下到电梯应该能看到车的，结果车不见了,旁边防火门也是那个防火门，后来我们琢磨了半天，转了一圈发现我们是不是下错楼层了，又下了一层，发现终于找到我们的车了。这种场景不管是GNSS还是雷达，都很难辨识，因为每一层场景非常接近，没什么区别，这时候应该用IMU做3D的惯导。这是另外一个场景。欧洲的城市，规划地非常规整，同时街道又非常窄，不管是雷达还是GNSS，都会受到蛮多的影响。这时候怎么办？我们要通过GNSS，加上IMU，加上地图匹配做粗略的定位，通过毫米波雷达或者激光雷达获得在街道上的车道信息，这样与传感器的融合就会出现。总结一下，没有一种传感器能够在任何时间、任何地点都能获得一个准确的位置信息，我们必须依赖于高精度GNSS、激光雷达、摄像头、雷达和地图进行匹配，进行融合，从而获得可靠的有效的位置信息。GNSS能提供什么东西？更多提供是车道级的，高可靠性的、高完整性的位置信息，GNSS有一个独特的特点，提供的位置信息是绝对位置，不是提供相对的位置，提供绝对的UTC，也能提供绝对的车速以及绝对的航向信息。好处是，可以在任何的前提条件下，不管下雨下雪还是有雾都可以提供信息.同样可以降低地图成本，这时候地图有位置信息作为参考，可以降低地图匹配需要的算力，可以在更小的范围内进行地图的匹配。同时可以作为其他的传感器很好的支撑,共同协作，达到功能安全。提到功能安全,我们要引入一个新的概念protectionlevel，是一个针对测量结果的完好性标识。意思是说在GNSS上报位置的时候会存在一些误差，在非常大的概率下，误差在范围之内。这张图上可以看到红色的叉号是上报的位置信息，这里是车的真实位置.很高的概率让车真实的位置在蓝色圆圈覆盖之内，这时候进行下一步的融合算法，进行安全相关的计算操作时，都会比较可靠。这里强调一点，完好性和功能安全是有一点点区别的，完好性更多是针对车本身的硬件和软件，保证不会失效，或者保证失效的时候会上报结果。完整性更多是关注整个GNSS系统，包括卫星、校正服务、车，在一起,怎么样能在一个信号可能会受到干扰的情况下，上报一个可靠的、完好的位置信息。有可能这个位置信息并不是准确的，有可能这个位置信息不准;或者我觉得我的信号受到了干扰，受到了欺骗，所以请不要用它，这都是有可能的。至少会给出一个度量，这样可以针对后面的算法，可以针对度量结果进行进一步的操作。刚才提到过这样的场景下，可能环境会造成一些干扰，安全会变成很重要的话题，我们分析了一下在GNSS计算过程中会有哪些东西带来安全性的隐患。从卫星过来的信号有可能受到一些干扰，甚至会有人故意播放假的卫星信号，如果没有识别出来，就会上报错误的位置信息。同时对GNSS信号本身，GNSS的接收机有可能被篡改，也可能会上报错误的位置信息。同样的，GNSS和主GPU之间的通讯链路有可能被篡改，加密的链路有可能受到人攻击。矫正服务可能会在云端或者通过链路时被篡改，这样位置信息同样是错的。在普通导航里没问题，但是如果是纯粹的自动驾驶，这些都是非常严重的安全隐患，现实生活中也会有一些安全团队对这些东西进行验证，的确发现了在有些准自动驾驶系统里，存在这样的安全问题.我们系统需要进行处理，尽量减少安全隐患，或者发现这样的问题以后，能尽快上报。接下来谈谈u-blox在这方面做了哪些工作，提供哪些解决方案来解决这些问题。最基础的方案是对亚米级的诉求。这个时候有两种方案，一种方案是单频的L1接收机，配上地基或者星基播发的校正服务。我们感觉到特点是接收机成本比较低，天线成本比较低，但是服务费偏贵。另外一种方案利用现在卫星信号的双频，不同的频段上进行接收。利用双频技术，可以做到1.5米以内，硬件成本会提升，但是没有服务费用,相对单频的方案还是更优惠一些，更实在一些。这是能达到分米级或者厘米级的系统.卫星信号数据会受到一些干扰，会有一些误差，校正服务的基准站利用本地的位置信息，以及卫星链路发来的信号做一个对比，估计卫星信号在当前环境所受的影响以及误差。误差可以通过internet或者星基服务发送到接收机，接收机借助校准数据对卫星进行校准，从而达到分米极、厘米级的高精度。我们和博世的观点一致，我们认为对汽车这个领域，我们并不需要厘米级的定位，需要分米级的定位，星基播发的服务是更合适的。刚刚提到过我们可以提供亚米级和分米级、厘米级的定位，但是GNSS信号在城市中是容易受到干扰的，这种干扰会有折射反射，会导致GNSS信号的覆盖度不是很好，定位精度没有办法始终保持在厘米级、分米级。这时候一定要加入惯导，利用IMU以及相关信息，再加上u-blox独有的汽车动态模型和高精度算法，融合起来得到分米级的精度。总结一下，u-blox产品利用了双频,服务以及惯导来实现分米级的定位，能做到在一个模块上集成所有的算法，基本上即插即用。相比较其他的很多方案来说，优势在于性能更好，能做到高达105度的操作温度，更容易达到低延时，而其它方案实时性是很难做到的。接下来给大家看一下我们自己的测试结果，这些测试结果都使用了RTK服务，都是基于惯导。可以看到，第一个测试场景是从巴黎到日内瓦高速公路上，照片上可以看到场景比较开阔，有一点遮挡，能做到7公分的定位精度.这是欧洲典型的城市化做的测试。城市环境算是比较典型，不算非常有挑战性。日常城市大概就是这个样子，楼不是是很高，但是楼间距比较小，只有60度的角度可以看到天空。这种场景下可以做到0.43米的定位精度，这样的话结合其他的传感器是可以做到更好的自动驾驶。再看一个有挑战性的服务场景，这是在首尔的江南区，在这里有一个红色的点，代表在一个地下车库，完全没有GNSS信息的场景下做的。GNSS定位精度可以做到69厘米，少于70厘米。我们做一个总结，可以看到这图上面，灰色的部分是CEP68的精度，这是日常使用的定位导航精度。这个时CEP95的精度.这是单频的精度.这是双频不带RTK的精度.这个是双频加SBAS的精度,可以看到接收机0.9米的效果是比较好的，体验再上升一个台阶。如果针对ADAS的应用，或者自动驾驶的应用，可能需要地基或者星基的校准服务，这样可以做到0.3米CEP68。最后做一个总结，现在看到一个非常明显的趋势，车载的GNSS往更高精度的方向发展。现在市面上出现了各种各样的产品，专门针对更高精度进行优化，针对不同场景进行优化。u-blox的ZED-F9P是一个集成的,交钥匙方案,可以更快的推出市场，尤其针对低延时、高可靠性的场景.谢谢大家。敬请关注盖世汽车“2019自动驾驶地图与定位大会”直播专题！PC：http://auto.gasgoo.com/NewsTopic/199.html移动：https://m.gasgoo.com/news/topic/199
